<div class="vacancy-div">
    <div class="publisher-info">
        <div class="publisher-name-div">
            <div *ngIf="role === 'JobSeeker'" [routerLink]="['employeedetails',vacancyData.user_id]" style="color: #0d6efd;cursor: pointer;">{{vacancyData?.publishedBy}}</div>
            
            <span style="font-size: 16px;">Published on: 
                <span style="color: gray;">
                    {{vacancyData?.published_Date | date}}
                </span>
            </span>
        </div>

        <div *ngIf="role === 'Employee' then ifBlock else elseBlock"></div>
        
        <ng-template #ifBlock>
            Number of applicants: <span style="color: gray;">&nbsp;{{vacancyData?.no_of_applications}}</span>
        </ng-template>

        <ng-template #elseBlock>
            <button *ngIf="vacancyData.No_more_requests === undefined && vacancyData?.applied === true" class='btn btn-secondary' disabled>Applied</button>
            <ng-template *ngIf="todayDate > vacancyData.last_Date then disabledbtn else enabledbtn"></ng-template>
            <ng-template #disabledbtn>
                <button *ngIf="vacancyData.applied === undefined && vacancyData.No_more_requests === undefined" class="btn btn-info" disabled>Last date exceeded</button>
            </ng-template>
            <ng-template #enabledbtn>
                <button *ngIf="vacancyData.applied === undefined && vacancyData.No_more_requests === undefined" class='btn btn-primary' (click)="apply(vacancyData)">Apply</button>
            </ng-template>
            <button *ngIf="vacancyData.No_more_requests === true" class="btn btn-warning" disabled>Accepting no more requests</button>
        </ng-template>
    </div>

    <div class="info-1-div">
        <div class="info-1-qua">
            <span>Minimum Qualification</span>
            <br/><span style="color: gray;">{{vacancyData?.minimum_qualification}}</span>
        </div>
        <div class="info-1-exp">
            <span>Experience</span><br/>
            <span style="color: gray;">{{vacancyData?.experience}}</span>
        </div>
    </div>

    <div class="info-2-div">
        <div class="info-2">
            <span>Minimum Salary</span><br/>
            <span style="color: gray;">{{vacancyData?.min_Salary | currency: 'INR'}}</span>
        </div>
        <div class="info-2">
            <span>Maximum Salary</span><br/>
            <span style="color: gray;">{{vacancyData?.max_Salary | currency: 'INR'}}</span>
        </div>
        <div class="info-2">
            <span>Vacancies</span><br/>
            <span style="color: gray;">{{vacancyData?.no_of_Vacancies}}</span>
        </div>
        <div class="info-2">
            <span>Last Date</span><br/>
            <span style="color: gray;">{{vacancyData?.last_Date | date}}</span>
        </div>
    </div>

    <div class="des-div">
        <div style="display: flex;align-items: center;justify-content: space-between;">
            <div>Description</div>
            <div *ngIf="role === 'Employee'">
                <button class="btn btn-warning mr-2" (click)="editvacancy(data)">Edit</button>
                <button class="btn btn-danger" (click)="deleteVacancy(vacancyData.id)">Delete</button>
            </div>
        </div>
        
        <div style="color: gray;">{{vacancyData?.job_Description}}</div>
    </div>
</div>